#:import sm kivy.uix.screenmanager

ScreenManager
    id:manager
    transition:sm.FadeTransition(duration=.0)

    MDScreen:
        name:"home"
        FloatLayout:
            MDSpinner:
                id:spine_del
                size_hint: None, None
                size: dp(40), dp(40)
                pos_hint: {'center_x': .5, 'center_y':.5}
                active: False
                color: "#0F0A0A"
            MDIcon:
                icon:"account-tie-woman"
                font_size:"85sp"
                theme_text_color: "Custom"
                text_color: "#ECA400"
                pos_hint:{"center_x":.15, "center_y":.75}
            MDLabel:
                text:'Welcome to the'
                halign:"center"
                font_style:'H4'
                pos_hint:{'center_x':.35, 'center_y':.65}
            MDLabel:
                bold:True
                text:'WAITER APP'
                halign:"center"
                font_style:'H4'
                pos_hint:{'center_x':.35, 'center_y':.6}
            NumberOnlyField:
                id:phone
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                pos_hint:{'center_x':.5, 'center_y':.48}
                hint_text:"User Phone:"
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDTextField:
                id:password
                mode: "rectangle"
                fill_color: 0, 0, 0, .4
                size_hint: .8, .1
                pos_hint:{'center_x':.5, 'center_y':.38}
                hint_text:"Password:"
                text_color: 0, 0, 0, 1
                font_size: dp(25)
            MDFillRoundFlatButton:
                id:login
                text: "Sign in"
                size_hint: .8, .06
                pos_hint:{'center_x':.5, 'center_y':.26}
                md_bg_color: "#0F0A0A"
                on_release:
                    app.spinner()
                    app.login_waiter(phone.text, password.text)

    MDScreen:
        name:"orders"
        FloatLayout:
            MDLabel:
                bold:True
                text:"ORDERS"
                halign:"center"
                font_style:'H5'
                pos_hint:{'center_x':.5, 'center_y':.93}
            MDIcon:
                icon:"segment"
                font_size:"45sp"
                pos_hint:{"center_x":.9, "center_y":.93}
            MDFillRoundFlatButton:
                id:order
                text: "Make New Order"
                size_hint: .8, .06
                pos_hint:{'center_x':.5, 'center_y':.85}
                md_bg_color: "#0F0A0A"
            Card
                pos_hint:{'center_x':.5, 'center_y':.74}

            MDFlatButton:
                id: pending
                text:"Pending(5)"
                font_size:"18sp"
                pos_hint:{'center_x':.18, 'center_y':.74}
                on_release:
                    bold:True
            MDFlatButton:
                id:prepare
                text:"Preparing(2)"
                font_size:"18sp"
                pos_hint:{'center_x':.5, 'center_y':.74}

            MDFlatButton:
                id:complete
                text:"Completed(0)"
                font_size:"18sp"
                pos_hint:{'center_x':.83, 'center_y':.74}
            MDLabel:
                bold:True
                text:"Table No"
                halign:"center"
                pos_hint:{'center_x':.15, 'center_y':.64}
            MDLabel:
                #bold:True
                text:"Time"
                halign:"center"
                pos_hint:{'center_x':.4, 'center_y':.64}
            MDLabel:
                #bold:True
                text:"Pending Items"
                halign:"center"
                pos_hint:{'center_x':.7, 'center_y':.64}
        BoxLayout:
            RecycleView:
                id:today
                key_viewclass: 'viewclass'
                key_size: 'height'
                pos_hint:{"top":.61}
                RecycleBoxLayout:
                    id:wa
                    spacing:dp(4)
                    padding: dp(10)
                    default_size: None, dp(60)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'


    MDScreen:
        name:"aq"
        FloatLayout:
            RowCard:
                icon:"dog"
                name:"00:15"
                price:"3"


    MDScreen:
        name:"genesis"
        MDTextField:
            id:food
            mode: "rectangle"
            fill_color: 0, 0, 0, .4
            size_hint: .8, .1
            pos_hint:{'center_x':.5, 'center_y':.6}
            hint_text:"Food oder:"
            text_color: 0, 0, 0, 1
            font_size: dp(25)

        MDIconButton:
            icon: "language-python"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release:
                app.qrcode(food.text)

    MDScreen:
        name:"qr"
        FloatLayout:
            Image:
                source:"qr_code.png"
                pos_hint: {"center_x": .5, "center_y": .3}


<Card@MDBoxLayout>:
    radius:10
    #height:240
    size:app.size_x/2,app.size_y/9.9
    md_bg_color:1, 1, 1, 1
    adaptive_height:True
    adaptive_width:True

<RowCard>:
    #orientation: "vertical"
    md_bg_color: 1, 1, 1, 1
    padding: "10dp"
    #spacing: "5dp"
    border_radius: 3
    border_color_a: .5
    border_color_a: 1
    adaptive_height:True
    radius: [10]
    size_hint: None, None
    size: app.size_x/1.5, app.size_y/11
    focus_behavior: False
    ripple_color:.9, .9, .95, 1
    ripple_behavior: True
    FloatLayout:
        MDIcon:
            icon:root.icon
            badge_icon:"numeric-10"
            font_size:"30sp"
            theme_text_color:"Custom"
            text_color: "#FFBE0B"
            pos_hint:{"center_x":.08,"center_y":.5}
        MDLabel:
            text:root.name
            font_size:"15sp"
            halign:"center"
            pos_hint:{"center_x":.4,"center_y":.5}
        MDLabel:
            text:root.price
            halign:"center"
            pos_hint:{"center_x":.65,"center_y":.5}
        MDIcon:
            icon:"chevron-right"
			font_size:"41sp"
			theme_text_color:"Custom"
			text_color:"#FFBE0B"
			pos_hint:{"center_x":.9,"center_y":.5}

<Table@MDBoxLayout>:
    radius:10
    #height:240
    size:app.size_x/2,app.size_y/9.9
    md_bg_color:1, 1, 1, 1
    adaptive_height:True
    adaptive_width:True

